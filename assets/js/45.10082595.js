(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{1224:function(t,s,a){"use strict";a.r(s);var n=a(19),e=Object(n.a)({},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"移动鼠标：mouseover-out，mouseenter-leave"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#移动鼠标：mouseover-out，mouseenter-leave","aria-hidden":"true"}},[t._v("#")]),t._v(" 移动鼠标：mouseover/out，mouseenter/leave")]),t._v(" "),n("p",[t._v("我们将深入研究鼠标在元素之间移动时发生的事件。")]),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("h2",{attrs:{id:"事件-mouseover-mouseout，relatedtarget"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#事件-mouseover-mouseout，relatedtarget","aria-hidden":"true"}},[t._v("#")]),t._v(" 事件 mouseover/mouseout，relatedTarget")]),t._v(" "),n("p",[t._v("当鼠标指针移到某个元素上时，"),n("code",[t._v("mouseover")]),t._v(" 事件就会发生，而当鼠标离开该元素时，"),n("code",[t._v("mouseout")]),t._v(" 事件就会发生。")]),t._v(" "),n("p",[n("img",{attrs:{src:a(641),alt:""}})]),t._v(" "),n("p",[t._v("这些事件很特别，因为它们具有 "),n("code",[t._v("relatedTarget")]),t._v(" 属性。此属性是对 "),n("code",[t._v("target")]),t._v(" 的补充。当鼠标从一个元素离开并去往另一个元素时，其中一个元素就变成了 "),n("code",[t._v("target")]),t._v("，另一个就变成了 "),n("code",[t._v("relatedTarget")]),t._v("。")]),t._v(" "),n("br"),t._v(" "),n("p",[t._v("对于 "),n("code",[t._v("mouseover")]),t._v("：")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("event.target")]),t._v(" —— 是鼠标移过的那个元素。")]),t._v(" "),n("li",[n("code",[t._v("event.relatedTarget")]),t._v(" —— 是鼠标来自的那个元素（"),n("code",[t._v("relatedTarget")]),t._v(" → "),n("code",[t._v("target")]),t._v("）。")])]),t._v(" "),n("p",[n("code",[t._v("mouseout")]),t._v(" 则与之相反：")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("event.target")]),t._v(" —— 是鼠标离开的元素。")]),t._v(" "),n("li",[n("code",[t._v("event.relatedTarget")]),t._v(" —— 是鼠标移动到的，当前指针位置下的元素（"),n("code",[t._v("target")]),t._v(" → "),n("code",[t._v("relatedTarget")]),t._v("）。")])]),t._v(" "),n("p",[t._v("在下面这个示例中，每张脸及其功能都是单独的元素。当你移动鼠标时，你可以在文本区域中看到鼠标事件。")]),t._v(" "),n("p",[t._v("每个事件都具有关于 "),n("code",[t._v("target")]),t._v(" 和 "),n("code",[t._v("relatedTarget")]),t._v(" 的信息：")]),t._v(" "),n("ClientOnly",[n("learn_javascript_asdiasdkc-two-kodmnvxcnaq-02-demo1")],1),t._v(" "),n("ClientOnly",[n("learn_javascript_asdiasdkc-two-kodmnvxcnaq-02-code1")],1),t._v(" "),n("ClientOnly",[n("learn_javascript_asdiasdkc-two-kodmnvxcnaq-02-code2")],1),t._v(" "),n("ClientOnly",[n("learn_javascript_asdiasdkc-two-kodmnvxcnaq-02-code3")],1),t._v(" "),n("br"),t._v(" "),n("div",{staticClass:"warning custom-block"},[n("p",[n("strong",[n("code",[t._v("relatedTarget")]),t._v(" 可以为 "),n("code",[t._v("null")])])]),t._v(" "),n("p",[n("code",[t._v("relatedTarget")]),t._v(" 属性可以为 "),n("code",[t._v("null")]),t._v("。")]),t._v(" "),n("p",[t._v("这是正常现象，仅仅是意味着鼠标不是来自另一个元素，而是来自窗口之外。或者它离开了窗口。")]),t._v(" "),n("p",[t._v("当我们在代码中使用 "),n("code",[t._v("event.relatedTarget")]),t._v(" 时，我们应该牢记这种可能性。如果我们访问 "),n("code",[t._v("event.relatedTarget.tagName")]),t._v("，那么就会出现错误。")])]),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("h2",{attrs:{id:"跳过元素"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#跳过元素","aria-hidden":"true"}},[t._v("#")]),t._v(" 跳过元素")]),t._v(" "),n("p",[t._v("当鼠标移动时，就会触发 "),n("code",[t._v("mousemove")]),t._v(" 事件。但这并不意味着每个像素都会导致一个事件。")]),t._v(" "),n("p",[t._v("浏览器会一直检查鼠标的位置。如果发现了变化，就会触发事件。")]),t._v(" "),n("p",[t._v("这意味着，如果访问者非常快地移动鼠标，那么某些 DOM 元素就可能被跳过：")]),t._v(" "),n("p",[n("img",{attrs:{src:a(642),alt:""}})]),t._v(" "),n("p",[t._v("如果鼠标从上图所示的 "),n("strong",[n("code",[t._v("#FROM")])]),t._v(" 快速移动到 "),n("strong",[n("code",[t._v("#TO")])]),t._v(" 元素，则中间的 "),n("code",[t._v("<div>")]),t._v("（或其中的一些）元素可能会被跳过。"),n("code",[t._v("mouseout")]),t._v(" 事件可能会在 "),n("strong",[n("code",[t._v("#FROM")])]),t._v(" 上被触发，然后立即在 "),n("strong",[n("code",[t._v("#TO")])]),t._v(" 上触发 "),n("code",[t._v("mouseover")]),t._v("。")]),t._v(" "),n("p",[t._v("这对性能很有好处，因为可能有很多中间元素。我们并不真的想要处理每一个移入和离开的过程。")]),t._v(" "),n("p",[t._v("另一方面，我们应该记住，鼠标指针并不会“访问”所有元素。它可以“跳过”一些元素。")]),t._v(" "),n("p",[t._v("特别是，鼠标指针可能会从窗口外跳到页面的中间。在这种情况下，"),n("code",[t._v("relatedTarget")]),t._v(" 为 "),n("code",[t._v("null")]),t._v("，因为它是从石头缝里蹦出来的（nowhere）：")]),t._v(" "),n("p",[n("img",{attrs:{src:a(643),alt:""}})]),t._v(" "),n("p",[t._v("你可以在下面的测试台中“实时”查看。")]),t._v(" "),n("p",[t._v("它的 HTML 有两个嵌套的元素："),n("code",[t._v('<div id="child">')]),t._v(" 在 "),n("code",[t._v('<div id="parent">')]),t._v(" 内部。如果将鼠标快速移动到它们上，则可能只有 "),n("code",[t._v('<div id="child">')]),t._v(" 或者只有 "),n("code",[t._v('<div id="parent">')]),t._v(" 触发事件，或者根本没有事件触发。")]),t._v(" "),n("p",[t._v("还可以将鼠标指针移动到 "),n("code",[t._v('<div id="child">')]),t._v(" 中，然后将其快速向下移动过其父级元素。如果移动速度足够快，则父元素就会被忽略。鼠标会越过父元素而不会引起其注意。")]),t._v(" "),n("ClientOnly",[n("learn_javascript_asdiasdkc-two-kodmnvxcnaq-02-demo2")],1),t._v(" "),n("ClientOnly",[n("learn_javascript_asdiasdkc-two-kodmnvxcnaq-02-code2-1")],1),t._v(" "),n("ClientOnly",[n("learn_javascript_asdiasdkc-two-kodmnvxcnaq-02-code2-2")],1),t._v(" "),n("ClientOnly",[n("learn_javascript_asdiasdkc-two-kodmnvxcnaq-02-code2-3")],1),t._v(" "),n("br"),t._v(" "),n("div",{staticClass:"tip custom-block"},[n("p",[n("strong",[t._v("如果 "),n("code",[t._v("mouseover")]),t._v(" 被触发了，则必须有 "),n("code",[t._v("mouseout")])])]),t._v(" "),n("p",[t._v("在鼠标快速移动的情况下，中间元素可能会被忽略，但是我们可以肯定一件事：如果鼠标指针“正式地”进入了一个元素（生成了 "),n("code",[t._v("mouseover")]),t._v(" 事件），那么一旦它离开，我们就会得到 "),n("code",[t._v("mouseout")]),t._v("。")])]),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("h2",{attrs:{id:"当移动到一个子元素时-mouseout"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#当移动到一个子元素时-mouseout","aria-hidden":"true"}},[t._v("#")]),t._v(" 当移动到一个子元素时 mouseout")]),t._v(" "),n("p",[n("code",[t._v("mouseout")]),t._v(" 的一个重要功能 —— 当鼠标指针从元素移动到其后代时触发，例如在下面的这个 HTML 中，从 "),n("code",[t._v("#parent")]),t._v(" 到 "),n("code",[t._v("#child")]),t._v("：")]),t._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("parent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("child"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("..."),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br")])]),n("p",[t._v("如果我们在 "),n("code",[t._v("#parent")]),t._v(" 上，然后将鼠标指针更深入地移入 "),n("code",[t._v("#child")]),t._v("，但是在 "),n("code",[t._v("#parent")]),t._v(" 上会得到 "),n("code",[t._v("mouseout")]),t._v("！")]),t._v(" "),n("p",[n("img",{attrs:{src:a(644),alt:""}})]),t._v(" "),n("p",[t._v("这听起来很奇怪，但很容易解释。")]),t._v(" "),n("p",[n("strong",[t._v("根据浏览器的逻辑，鼠标指针随时可能位于单个元素上 —— 嵌套最多的那个元素（z-index 最大的那个）。")])]),t._v(" "),n("p",[t._v("因此，如果它转到另一个元素（甚至是一个后代），那么它将离开前一个元素。")]),t._v(" "),n("p",[t._v("请注意事件处理的另一个重要的细节。")]),t._v(" "),n("p",[t._v("后代的 "),n("code",[t._v("mouseover")]),t._v(" 事件会冒泡。因此，如果 "),n("code",[t._v("#parent")]),t._v(" 具有 "),n("code",[t._v("mouseover")]),t._v(" 处理程序，它将被触发：")]),t._v(" "),n("p",[n("img",{attrs:{src:a(645),alt:""}})]),t._v(" "),n("p",[t._v("你可以在下面这个示例中很清晰地看到这一点："),n("code",[t._v('<div id="child">')]),t._v(" 位于 "),n("code",[t._v('<div id="parent">')]),t._v(" 内部。"),n("code",[t._v("#parent")]),t._v(" 元素上有 "),n("code",[t._v("mouseover/out")]),t._v(" 的处理程序，这些处理程序用于输出事件详细信息。")]),t._v(" "),n("p",[t._v("如果你将鼠标从 "),n("code",[t._v("#parent")]),t._v(" 移动到 "),n("code",[t._v("#child")]),t._v("，那么你会看到在 "),n("code",[t._v("#parent")]),t._v(" 上有两个事件:")]),t._v(" "),n("ul",[n("li",[n("ol",[n("li",[n("code",[t._v("mouseout [target: parent]")]),t._v("（离开 parent），然后")])])]),t._v(" "),n("li",[n("ol",{attrs:{start:"2"}},[n("li",[n("code",[t._v("mouseover [target: child]")]),t._v("（来到 child，冒泡）。")])])])]),t._v(" "),n("ClientOnly",[n("learn_javascript_asdiasdkc-two-kodmnvxcnaq-02-demo3")],1),t._v(" "),n("p",[n("code",[t._v("script.js")])]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("mouselog")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" d "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("d"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getHours")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("d"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMinutes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("d"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSeconds")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v(" | ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v(" [target: ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("]\\n`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/(:|^)(\\d\\D)/")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$10$2'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollHeight"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br")])]),n("ClientOnly",[n("learn_javascript_asdiasdkc-two-kodmnvxcnaq-02-code3-1")],1),t._v(" "),n("ClientOnly",[n("learn_javascript_asdiasdkc-two-kodmnvxcnaq-02-code3-2")],1),t._v(" "),n("p",[t._v("如上例所示，当鼠标指针从 "),n("code",[t._v("#parent")]),t._v(" 元素移动到 "),n("code",[t._v("#child")]),t._v(" 时，会在父元素上触发两个处理程序："),n("code",[t._v("mouseout")]),t._v(" 和 "),n("code",[t._v("mouseover")]),t._v("：")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("parent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onmouseout")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* event.target: parent element */")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nparent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onmouseover")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* event.target: child element (bubbled) */")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br")])]),n("p",[n("strong",[t._v("如果我们不检查处理程序中的 "),n("code",[t._v("event.target")]),t._v("，那么似乎鼠标指针离开了 "),n("code",[t._v("#parent")]),t._v(" 元素，然后立即回到了它上面。")])]),t._v(" "),n("p",[t._v("但是事实并非如此！鼠标指针仍然位于父元素上，它只是更深入地移入了子元素。")]),t._v(" "),n("p",[t._v("如果离开父元素时有一些行为（action），例如一个动画在 "),n("code",[t._v("parent.onmouseout")]),t._v(" 中运行，当鼠标指针深入 "),n("code",[t._v("#parent")]),t._v(" 时，我们并不希望发生这种行为。")]),t._v(" "),n("p",[t._v("为了避免它，我们可以在处理程序中检查 "),n("code",[t._v("relatedTarget")]),t._v("，如果鼠标指针仍在元素内，则忽略此类事件。")]),t._v(" "),n("p",[t._v("另外，我们可以使用其他事件："),n("code",[t._v("mouseenter")]),t._v(" 和 "),n("code",[t._v("mouseleave")]),t._v("，它们没有此类问题，接下来我们就对其进行详细介绍。")]),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("h2",{attrs:{id:"事件-mouseenter-和-mouseleave"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#事件-mouseenter-和-mouseleave","aria-hidden":"true"}},[t._v("#")]),t._v(" 事件 mouseenter 和 mouseleave")]),t._v(" "),n("p",[t._v("事件 "),n("code",[t._v("mouseenter/mouseleave")]),t._v(" 类似于 "),n("code",[t._v("mouseover/mouseout")]),t._v("。它们在鼠标指针进入/离开元素时触发。")]),t._v(" "),n("p",[t._v("但是有两个重要的区别：")]),t._v(" "),n("ul",[n("li",[n("ol",[n("li",[t._v("元素内部与后代之间的转换不会产生影响。")])])]),t._v(" "),n("li",[n("ol",{attrs:{start:"2"}},[n("li",[t._v("事件 "),n("code",[t._v("mouseenter/mouseleave")]),t._v(" 不会冒泡。")])])])]),t._v(" "),n("p",[t._v("这些事件非常简单。")]),t._v(" "),n("p",[t._v("当鼠标指针进入一个元素时 —— 会触发 "),n("code",[t._v("mouseenter")]),t._v("。而鼠标指针在元素或其后代中的确切位置无关紧要。")]),t._v(" "),n("p",[t._v("当鼠标指针离开该元素时，事件 "),n("code",[t._v("mouseleave")]),t._v(" 才会触发。")]),t._v(" "),n("p",[t._v("这个例子和上面的例子相似，但是现在最顶部的元素有 "),n("code",[t._v("mouseenter/mouseleave")]),t._v(" 而不是 "),n("code",[t._v("mouseover/mouseout")]),t._v("。")]),t._v(" "),n("p",[t._v("正如你所看到的，唯一生成的事件是与将鼠标指针移入或移出顶部元素有关的事件。当鼠标指针进入 child 并返回时，什么也没发生。在后代之间的移动会被忽略。")]),t._v(" "),n("ClientOnly",[n("learn_javascript_asdiasdkc-two-kodmnvxcnaq-02-demo4")],1),t._v(" "),n("p",[n("code",[t._v("script.js")])]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("mouselog")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" d "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("d"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getHours")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("d"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMinutes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("d"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSeconds")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v(" | ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v(" [target: ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("]\\n`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/(:|^)(\\d\\D)/")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$10$2'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollHeight"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br")])]),n("ClientOnly",[n("learn_javascript_asdiasdkc-two-kodmnvxcnaq-02-code3-1")],1),t._v(" "),n("ClientOnly",[n("learn_javascript_asdiasdkc-two-kodmnvxcnaq-02-code3-2")],1),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("h2",{attrs:{id:"事件委托"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#事件委托","aria-hidden":"true"}},[t._v("#")]),t._v(" 事件委托")]),t._v(" "),n("p",[t._v("事件 "),n("code",[t._v("mouseenter/leave")]),t._v(" 非常简单且易用。但它们不会冒泡。因此，我们不能使用它们来进行事件委托。")]),t._v(" "),n("p",[t._v("假设我们要处理表格的单元格的鼠标进入/离开。并且这里有数百个单元格。")]),t._v(" "),n("p",[t._v("通常的解决方案是 —— 在 "),n("code",[t._v("<table>")]),t._v(" 中设置处理程序，并在那里处理事件。但 "),n("code",[t._v("mouseenter/leave")]),t._v(" 不会冒泡。因此，如果类似的事件发生在 "),n("code",[t._v("<td>")]),t._v(" 上，那么只有 "),n("code",[t._v("<td>")]),t._v(" 上的处理程序才能捕获到它。")]),t._v(" "),n("p",[n("code",[t._v("<table>")]),t._v(" 上的 "),n("code",[t._v("mouseenter/leave")]),t._v(" 的处理程序仅在鼠标指针进入/离开整个表格时才会触发。无法获取有关其内部移动的任何信息。")]),t._v(" "),n("p",[t._v("因此，让我们使用 "),n("code",[t._v("mouseover/mouseout")]),t._v("。")]),t._v(" "),n("p",[t._v("让我们从高亮显示鼠标指针下的元素的简单处理程序开始：")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 高亮显示鼠标指针下的元素")]),t._v("\ntable"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onmouseover")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" target "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("background "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pink'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\ntable"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onmouseout")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" target "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("background "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br")])]),n("p",[t._v("现在它们已经激活了。当鼠标在下面这个表格的各个元素上移动时，当前位于鼠标指针下的元素会被高亮显示：")]),t._v(" "),n("ClientOnly",[n("learn_javascript_asdiasdkc-two-kodmnvxcnaq-02-demo5")],1),t._v(" "),n("ClientOnly",[n("learn_javascript_asdiasdkc-two-kodmnvxcnaq-02-code4-1")],1),t._v(" "),n("ClientOnly",[n("learn_javascript_asdiasdkc-two-kodmnvxcnaq-02-code4-2")],1),t._v(" "),n("ClientOnly",[n("learn_javascript_asdiasdkc-two-kodmnvxcnaq-02-code4-3")],1),t._v(" "),n("p",[t._v("在我们的例子中，我们想要处理表格的单元格 "),n("code",[t._v("<td>")]),t._v(" 之间的移动：进入一个单元格并离开它。我们对其他移动并不感兴趣，例如在单元格内部或在所有单元格的外部。让我们把这些过滤掉。")]),t._v(" "),n("p",[t._v("我们可以这样做：")]),t._v(" "),n("ul",[n("li",[t._v("在变量中记住当前被高亮显示的 "),n("code",[t._v("<td>")]),t._v("，让我们称它为 "),n("code",[t._v("currentElem")]),t._v("。")]),t._v(" "),n("li",[n("code",[t._v("mouseover")]),t._v(" —— 如果我们仍然在当前的 "),n("code",[t._v("<td>")]),t._v(" 中，则忽略该事件。")]),t._v(" "),n("li",[n("code",[t._v("mouseout")]),t._v(" —— 如果没有离开当前的 "),n("code",[t._v("<td>")]),t._v("，则忽略。")])]),t._v(" "),n("p",[t._v("这是说明所有可能情况的代码示例：")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 现在位于鼠标下方的 <td>（如果有）")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" currentElem "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\ntable"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onmouseover")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在进入一个新的元素前，鼠标总是会先离开前一个元素")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果设置了 currentElem，那么我们就没有鼠标所悬停在的前一个 <td>，")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 忽略此事件")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("currentElem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" target "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("closest")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'td'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 我们移动到的不是一个 <td> —— 忽略")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 现在移动到了 <td> 上，但在处于了我们表格的外部（可能因为是嵌套的表格）")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 忽略")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("table"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("contains")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 给力！我们进入了一个新的 <td>")]),t._v("\n  currentElem "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("onEnter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("currentElem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\ntable"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onmouseout")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果我们现在处于所有 <td> 的外部，则忽略此事件")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这可能是一个表格内的移动，但是在 <td> 外，")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 例如从一个 <tr> 到另一个 <tr>")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("currentElem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 我们将要离开这个元素 —— 去哪儿？可能是去一个后代？")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" relatedTarget "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("relatedTarget"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("relatedTarget"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 到父链上并检查 —— 我们是否还在 currentElem 内")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 然后发现，这只是一个内部移动 —— 忽略它")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("relatedTarget "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" currentElem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    relatedTarget "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" relatedTarget"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parentNode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 我们离开了 <td>。真的。")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("onLeave")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("currentElem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  currentElem "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 任何处理进入/离开一个元素的函数")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("onEnter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("elem")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  elem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("background "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pink'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在文本区域显示它")]),t._v("\n  text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token string"}},[t._v("`over -> ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("currentElem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tagName"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("currentElem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("className"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("\\n`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1e6")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("onLeave")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("elem")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  elem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("background "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在文本区域显示它")]),t._v("\n  text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token string"}},[t._v("`out <- ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("elem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tagName"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("elem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("className"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("\\n`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1e6")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br"),n("span",{staticClass:"line-number"},[t._v("24")]),n("br"),n("span",{staticClass:"line-number"},[t._v("25")]),n("br"),n("span",{staticClass:"line-number"},[t._v("26")]),n("br"),n("span",{staticClass:"line-number"},[t._v("27")]),n("br"),n("span",{staticClass:"line-number"},[t._v("28")]),n("br"),n("span",{staticClass:"line-number"},[t._v("29")]),n("br"),n("span",{staticClass:"line-number"},[t._v("30")]),n("br"),n("span",{staticClass:"line-number"},[t._v("31")]),n("br"),n("span",{staticClass:"line-number"},[t._v("32")]),n("br"),n("span",{staticClass:"line-number"},[t._v("33")]),n("br"),n("span",{staticClass:"line-number"},[t._v("34")]),n("br"),n("span",{staticClass:"line-number"},[t._v("35")]),n("br"),n("span",{staticClass:"line-number"},[t._v("36")]),n("br"),n("span",{staticClass:"line-number"},[t._v("37")]),n("br"),n("span",{staticClass:"line-number"},[t._v("38")]),n("br"),n("span",{staticClass:"line-number"},[t._v("39")]),n("br"),n("span",{staticClass:"line-number"},[t._v("40")]),n("br"),n("span",{staticClass:"line-number"},[t._v("41")]),n("br"),n("span",{staticClass:"line-number"},[t._v("42")]),n("br"),n("span",{staticClass:"line-number"},[t._v("43")]),n("br"),n("span",{staticClass:"line-number"},[t._v("44")]),n("br"),n("span",{staticClass:"line-number"},[t._v("45")]),n("br"),n("span",{staticClass:"line-number"},[t._v("46")]),n("br"),n("span",{staticClass:"line-number"},[t._v("47")]),n("br"),n("span",{staticClass:"line-number"},[t._v("48")]),n("br"),n("span",{staticClass:"line-number"},[t._v("49")]),n("br"),n("span",{staticClass:"line-number"},[t._v("50")]),n("br"),n("span",{staticClass:"line-number"},[t._v("51")]),n("br"),n("span",{staticClass:"line-number"},[t._v("52")]),n("br"),n("span",{staticClass:"line-number"},[t._v("53")]),n("br"),n("span",{staticClass:"line-number"},[t._v("54")]),n("br"),n("span",{staticClass:"line-number"},[t._v("55")]),n("br"),n("span",{staticClass:"line-number"},[t._v("56")]),n("br"),n("span",{staticClass:"line-number"},[t._v("57")]),n("br"),n("span",{staticClass:"line-number"},[t._v("58")]),n("br"),n("span",{staticClass:"line-number"},[t._v("59")]),n("br"),n("span",{staticClass:"line-number"},[t._v("60")]),n("br"),n("span",{staticClass:"line-number"},[t._v("61")]),n("br"),n("span",{staticClass:"line-number"},[t._v("62")]),n("br")])]),n("p",[t._v("再次，重要的功能是：")]),t._v(" "),n("ul",[n("li",[n("ol",[n("li",[t._v("它使用事件委托来处理表格中任何 "),n("code",[t._v("<td>")]),t._v(" 的进入/离开。因此，它依赖于 "),n("code",[t._v("mouseover/out")]),t._v(" 而不是 "),n("code",[t._v("mouseenter/leave")]),t._v("，"),n("code",[t._v("mouseenter/leave")]),t._v(" 不会冒泡，因此也不允许事件委托。")])])]),t._v(" "),n("li",[n("ol",{attrs:{start:"2"}},[n("li",[t._v("额外的事件，例如在 "),n("code",[t._v("<td>")]),t._v(" 的后代之间移动都会被过滤掉，因此 "),n("code",[t._v("onEnter/Leave")]),t._v(" 仅在鼠标指针进入/离开 "),n("code",[t._v("<td>")]),t._v(" 整体时才会运行。")])])])]),t._v(" "),n("p",[t._v("这是带有所有详细信息的完整示例：")]),t._v(" "),n("ClientOnly",[n("learn_javascript_asdiasdkc-two-kodmnvxcnaq-02-demo6")],1),t._v(" "),n("p",[t._v("尝试将鼠标指针移入和移出表格单元格及其内部。快还是慢都没关系。与前面的示例不同，只有 "),n("code",[t._v("<td>")]),t._v(" 被作为一个整体高亮显示。")]),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("h2",{attrs:{id:"总结"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#总结","aria-hidden":"true"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),n("p",[t._v("我们讲了 "),n("code",[t._v("mouseover")]),t._v("，"),n("code",[t._v("mouseout")]),t._v("，"),n("code",[t._v("mousemove")]),t._v("，"),n("code",[t._v("mouseenter")]),t._v(" 和 "),n("code",[t._v("mouseleave")]),t._v(" 事件。")]),t._v(" "),n("p",[t._v("以下这些内容要注意：")]),t._v(" "),n("ul",[n("li",[t._v("快速移动鼠标可能会跳过中间元素。")]),t._v(" "),n("li",[n("code",[t._v("mouseover/out")]),t._v(" 和 "),n("code",[t._v("mouseenter/leave")]),t._v(" 事件还有一个附加属性："),n("code",[t._v("relatedTarget")]),t._v("。这就是我们来自/到的元素，是对 "),n("code",[t._v("target")]),t._v(" 的补充。")])]),t._v(" "),n("p",[t._v("即使我们从父元素转到子元素时，也会触发 "),n("code",[t._v("mouseover/out")]),t._v(" 事件。浏览器假定鼠标一次只会位于一个元素上 —— 最深的那个。")]),t._v(" "),n("p",[n("code",[t._v("mouseenter/leave")]),t._v(" 事件在这方面不同：它们仅在鼠标进入和离开元素时才触发。并且它们不会冒泡。")]),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("br")],1)},[],!1,null,null,null);s.default=e.exports},641:function(t,s,a){t.exports=a.p+"assets/img/mouseover-mouseout.bdfd2cd0.svg"},642:function(t,s,a){t.exports=a.p+"assets/img/mouseover-mouseout-over-elems.fa9a4e95.svg"},643:function(t,s,a){t.exports=a.p+"assets/img/mouseover-mouseout-from-outside.bf21986a.svg"},644:function(t,s,a){t.exports=a.p+"assets/img/mouseover-to-child.032fd185.svg"},645:function(t,s,a){t.exports=a.p+"assets/img/mouseover-bubble-nested.09e36e48.svg"}}]);