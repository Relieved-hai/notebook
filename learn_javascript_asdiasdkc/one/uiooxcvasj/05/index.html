<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="icon" href="./favicon.ico" type="image/x-icon"/>
  <link rel="stylesheet" href="/notebook/css/public.css" />
  <title>使用 Mocha 进行自动化测试 | notebook</title>
  <meta name="description" content="整理收集学习资料">
  <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
  <script src="https://cdn.bootcdn.net/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdn.bootcdn.net/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.css">
  
  <link rel="preload" href="/notebook/assets/css/0.styles.7c3a6f01.css" as="style"><link rel="preload" href="/notebook/assets/js/app.0324d2aa.js" as="script"><link rel="preload" href="/notebook/assets/js/2.ad960145.js" as="script"><link rel="preload" href="/notebook/assets/js/32.3fadf8fe.js" as="script"><link rel="prefetch" href="/notebook/assets/js/10.002eb6a2.js"><link rel="prefetch" href="/notebook/assets/js/100.96ea9e13.js"><link rel="prefetch" href="/notebook/assets/js/101.f7190ee8.js"><link rel="prefetch" href="/notebook/assets/js/102.458b5ad7.js"><link rel="prefetch" href="/notebook/assets/js/103.aaa66fcb.js"><link rel="prefetch" href="/notebook/assets/js/104.6fe95de2.js"><link rel="prefetch" href="/notebook/assets/js/105.f9a571fd.js"><link rel="prefetch" href="/notebook/assets/js/106.d10a98d6.js"><link rel="prefetch" href="/notebook/assets/js/107.f8af5abf.js"><link rel="prefetch" href="/notebook/assets/js/108.f531ec94.js"><link rel="prefetch" href="/notebook/assets/js/109.23d3e0b4.js"><link rel="prefetch" href="/notebook/assets/js/11.e4d5a94e.js"><link rel="prefetch" href="/notebook/assets/js/110.2be499ba.js"><link rel="prefetch" href="/notebook/assets/js/111.17ed4afa.js"><link rel="prefetch" href="/notebook/assets/js/112.c3495d5c.js"><link rel="prefetch" href="/notebook/assets/js/113.fd502098.js"><link rel="prefetch" href="/notebook/assets/js/114.105938ee.js"><link rel="prefetch" href="/notebook/assets/js/115.d87709f7.js"><link rel="prefetch" href="/notebook/assets/js/116.9c2aadba.js"><link rel="prefetch" href="/notebook/assets/js/117.3094f1d2.js"><link rel="prefetch" href="/notebook/assets/js/118.2dc67a9a.js"><link rel="prefetch" href="/notebook/assets/js/119.aba96a59.js"><link rel="prefetch" href="/notebook/assets/js/12.54407726.js"><link rel="prefetch" href="/notebook/assets/js/120.8153ddfe.js"><link rel="prefetch" href="/notebook/assets/js/121.34b9d9ea.js"><link rel="prefetch" href="/notebook/assets/js/122.da3696cf.js"><link rel="prefetch" href="/notebook/assets/js/123.1c2de057.js"><link rel="prefetch" href="/notebook/assets/js/124.bd1986b3.js"><link rel="prefetch" href="/notebook/assets/js/125.f67270a9.js"><link rel="prefetch" href="/notebook/assets/js/126.e09efe7a.js"><link rel="prefetch" href="/notebook/assets/js/127.f51adc2e.js"><link rel="prefetch" href="/notebook/assets/js/128.0bf754ee.js"><link rel="prefetch" href="/notebook/assets/js/129.615f833a.js"><link rel="prefetch" href="/notebook/assets/js/13.b313c5fa.js"><link rel="prefetch" href="/notebook/assets/js/130.120d7d7a.js"><link rel="prefetch" href="/notebook/assets/js/131.0419b8b1.js"><link rel="prefetch" href="/notebook/assets/js/132.bb8534ba.js"><link rel="prefetch" href="/notebook/assets/js/133.88a92d63.js"><link rel="prefetch" href="/notebook/assets/js/134.f213a68a.js"><link rel="prefetch" href="/notebook/assets/js/135.596b98ee.js"><link rel="prefetch" href="/notebook/assets/js/136.00914705.js"><link rel="prefetch" href="/notebook/assets/js/137.5fadd24b.js"><link rel="prefetch" href="/notebook/assets/js/138.396ea015.js"><link rel="prefetch" href="/notebook/assets/js/139.7a3e21a6.js"><link rel="prefetch" href="/notebook/assets/js/14.11ba855a.js"><link rel="prefetch" href="/notebook/assets/js/140.ddbbdea5.js"><link rel="prefetch" href="/notebook/assets/js/141.16664a03.js"><link rel="prefetch" href="/notebook/assets/js/142.46bb84b3.js"><link rel="prefetch" href="/notebook/assets/js/143.5cfce9e8.js"><link rel="prefetch" href="/notebook/assets/js/144.8f95fced.js"><link rel="prefetch" href="/notebook/assets/js/145.4f9b6522.js"><link rel="prefetch" href="/notebook/assets/js/146.41152836.js"><link rel="prefetch" href="/notebook/assets/js/147.87173184.js"><link rel="prefetch" href="/notebook/assets/js/148.96798902.js"><link rel="prefetch" href="/notebook/assets/js/149.c498214c.js"><link rel="prefetch" href="/notebook/assets/js/15.2286957a.js"><link rel="prefetch" href="/notebook/assets/js/150.1d79b12b.js"><link rel="prefetch" href="/notebook/assets/js/151.f159a2f2.js"><link rel="prefetch" href="/notebook/assets/js/152.aa32481d.js"><link rel="prefetch" href="/notebook/assets/js/153.2e46e3b8.js"><link rel="prefetch" href="/notebook/assets/js/154.537c4378.js"><link rel="prefetch" href="/notebook/assets/js/155.c8da8b78.js"><link rel="prefetch" href="/notebook/assets/js/156.ff27c65f.js"><link rel="prefetch" href="/notebook/assets/js/157.e80cdabc.js"><link rel="prefetch" href="/notebook/assets/js/158.c0c7fad1.js"><link rel="prefetch" href="/notebook/assets/js/159.d959bf4f.js"><link rel="prefetch" href="/notebook/assets/js/16.cc845c88.js"><link rel="prefetch" href="/notebook/assets/js/160.2f3ad8c9.js"><link rel="prefetch" href="/notebook/assets/js/161.c087c38a.js"><link rel="prefetch" href="/notebook/assets/js/162.a80f6982.js"><link rel="prefetch" href="/notebook/assets/js/163.23ea175e.js"><link rel="prefetch" href="/notebook/assets/js/164.865bd419.js"><link rel="prefetch" href="/notebook/assets/js/165.bd8ff2a6.js"><link rel="prefetch" href="/notebook/assets/js/166.eabf74a6.js"><link rel="prefetch" href="/notebook/assets/js/167.c4cd6d03.js"><link rel="prefetch" href="/notebook/assets/js/168.f113fb59.js"><link rel="prefetch" href="/notebook/assets/js/169.b653f76b.js"><link rel="prefetch" href="/notebook/assets/js/17.143abeb1.js"><link rel="prefetch" href="/notebook/assets/js/170.2b4fd4b9.js"><link rel="prefetch" href="/notebook/assets/js/171.e488d277.js"><link rel="prefetch" href="/notebook/assets/js/172.b06513a0.js"><link rel="prefetch" href="/notebook/assets/js/173.a48014ff.js"><link rel="prefetch" href="/notebook/assets/js/174.0f2d4169.js"><link rel="prefetch" href="/notebook/assets/js/175.8f19776c.js"><link rel="prefetch" href="/notebook/assets/js/176.188b8eb2.js"><link rel="prefetch" href="/notebook/assets/js/177.c0a13df2.js"><link rel="prefetch" href="/notebook/assets/js/178.b5551348.js"><link rel="prefetch" href="/notebook/assets/js/179.20961a2c.js"><link rel="prefetch" href="/notebook/assets/js/18.876cbe3d.js"><link rel="prefetch" href="/notebook/assets/js/180.84c70304.js"><link rel="prefetch" href="/notebook/assets/js/181.638cf192.js"><link rel="prefetch" href="/notebook/assets/js/182.39a8485b.js"><link rel="prefetch" href="/notebook/assets/js/183.9066abda.js"><link rel="prefetch" href="/notebook/assets/js/184.25640c13.js"><link rel="prefetch" href="/notebook/assets/js/185.0baa855b.js"><link rel="prefetch" href="/notebook/assets/js/186.f44bcd2e.js"><link rel="prefetch" href="/notebook/assets/js/187.fc84a0a8.js"><link rel="prefetch" href="/notebook/assets/js/188.1fe9a7db.js"><link rel="prefetch" href="/notebook/assets/js/189.aa06de0c.js"><link rel="prefetch" href="/notebook/assets/js/19.a67c7af0.js"><link rel="prefetch" href="/notebook/assets/js/190.d949ee15.js"><link rel="prefetch" href="/notebook/assets/js/191.9472520a.js"><link rel="prefetch" href="/notebook/assets/js/192.44629af0.js"><link rel="prefetch" href="/notebook/assets/js/193.3c4b96b7.js"><link rel="prefetch" href="/notebook/assets/js/194.35009ca5.js"><link rel="prefetch" href="/notebook/assets/js/195.ca02fafa.js"><link rel="prefetch" href="/notebook/assets/js/196.46c7147b.js"><link rel="prefetch" href="/notebook/assets/js/197.8fb40b67.js"><link rel="prefetch" href="/notebook/assets/js/198.24518e1d.js"><link rel="prefetch" href="/notebook/assets/js/199.e874a8d4.js"><link rel="prefetch" href="/notebook/assets/js/20.9c401499.js"><link rel="prefetch" href="/notebook/assets/js/200.0bedeb96.js"><link rel="prefetch" href="/notebook/assets/js/201.d530a03d.js"><link rel="prefetch" href="/notebook/assets/js/202.21cea02a.js"><link rel="prefetch" href="/notebook/assets/js/203.fc627ca8.js"><link rel="prefetch" href="/notebook/assets/js/204.00b4a472.js"><link rel="prefetch" href="/notebook/assets/js/205.88ead349.js"><link rel="prefetch" href="/notebook/assets/js/206.dc8e0915.js"><link rel="prefetch" href="/notebook/assets/js/207.7956646c.js"><link rel="prefetch" href="/notebook/assets/js/208.679499fd.js"><link rel="prefetch" href="/notebook/assets/js/209.46928338.js"><link rel="prefetch" href="/notebook/assets/js/21.247bae7d.js"><link rel="prefetch" href="/notebook/assets/js/210.606053f4.js"><link rel="prefetch" href="/notebook/assets/js/211.46c1e42d.js"><link rel="prefetch" href="/notebook/assets/js/212.e5709843.js"><link rel="prefetch" href="/notebook/assets/js/213.5deeb229.js"><link rel="prefetch" href="/notebook/assets/js/214.d51cfc3d.js"><link rel="prefetch" href="/notebook/assets/js/215.91643db6.js"><link rel="prefetch" href="/notebook/assets/js/216.f4de120c.js"><link rel="prefetch" href="/notebook/assets/js/217.4008187f.js"><link rel="prefetch" href="/notebook/assets/js/218.7b72f935.js"><link rel="prefetch" href="/notebook/assets/js/219.ea63911c.js"><link rel="prefetch" href="/notebook/assets/js/22.957292d7.js"><link rel="prefetch" href="/notebook/assets/js/220.7791252e.js"><link rel="prefetch" href="/notebook/assets/js/221.9e43ba50.js"><link rel="prefetch" href="/notebook/assets/js/222.50ecaf83.js"><link rel="prefetch" href="/notebook/assets/js/223.113523cb.js"><link rel="prefetch" href="/notebook/assets/js/224.0b31dd1f.js"><link rel="prefetch" href="/notebook/assets/js/225.887a10b1.js"><link rel="prefetch" href="/notebook/assets/js/226.492aceeb.js"><link rel="prefetch" href="/notebook/assets/js/227.7e5ab4d3.js"><link rel="prefetch" href="/notebook/assets/js/228.4c8b6b1d.js"><link rel="prefetch" href="/notebook/assets/js/229.7235a574.js"><link rel="prefetch" href="/notebook/assets/js/23.9f6378b4.js"><link rel="prefetch" href="/notebook/assets/js/230.58f5f0d1.js"><link rel="prefetch" href="/notebook/assets/js/231.a34c452f.js"><link rel="prefetch" href="/notebook/assets/js/232.9edc9fe7.js"><link rel="prefetch" href="/notebook/assets/js/233.d38d021d.js"><link rel="prefetch" href="/notebook/assets/js/234.b4e65275.js"><link rel="prefetch" href="/notebook/assets/js/235.f2c7eb2a.js"><link rel="prefetch" href="/notebook/assets/js/236.86b601bf.js"><link rel="prefetch" href="/notebook/assets/js/237.be7a19ad.js"><link rel="prefetch" href="/notebook/assets/js/238.604055a4.js"><link rel="prefetch" href="/notebook/assets/js/239.be8b7652.js"><link rel="prefetch" href="/notebook/assets/js/24.ec6f3b57.js"><link rel="prefetch" href="/notebook/assets/js/240.519949a6.js"><link rel="prefetch" href="/notebook/assets/js/241.d20f2677.js"><link rel="prefetch" href="/notebook/assets/js/242.3619039f.js"><link rel="prefetch" href="/notebook/assets/js/243.90fa36a5.js"><link rel="prefetch" href="/notebook/assets/js/244.f7062a64.js"><link rel="prefetch" href="/notebook/assets/js/245.61697f37.js"><link rel="prefetch" href="/notebook/assets/js/246.6731929b.js"><link rel="prefetch" href="/notebook/assets/js/247.7c87946c.js"><link rel="prefetch" href="/notebook/assets/js/248.d553e620.js"><link rel="prefetch" href="/notebook/assets/js/249.e65d1287.js"><link rel="prefetch" href="/notebook/assets/js/25.35122985.js"><link rel="prefetch" href="/notebook/assets/js/250.cf49dfe5.js"><link rel="prefetch" href="/notebook/assets/js/251.470d1a9e.js"><link rel="prefetch" href="/notebook/assets/js/252.62c8d369.js"><link rel="prefetch" href="/notebook/assets/js/253.9151dae3.js"><link rel="prefetch" href="/notebook/assets/js/254.a4635ff1.js"><link rel="prefetch" href="/notebook/assets/js/255.1507b87e.js"><link rel="prefetch" href="/notebook/assets/js/256.7fe128ae.js"><link rel="prefetch" href="/notebook/assets/js/257.15190026.js"><link rel="prefetch" href="/notebook/assets/js/258.46531152.js"><link rel="prefetch" href="/notebook/assets/js/259.f897906d.js"><link rel="prefetch" href="/notebook/assets/js/26.4b89a5da.js"><link rel="prefetch" href="/notebook/assets/js/260.ca30d52d.js"><link rel="prefetch" href="/notebook/assets/js/261.68dcd705.js"><link rel="prefetch" href="/notebook/assets/js/262.58dbb794.js"><link rel="prefetch" href="/notebook/assets/js/263.c2a4db67.js"><link rel="prefetch" href="/notebook/assets/js/264.bc6fe498.js"><link rel="prefetch" href="/notebook/assets/js/265.1e72e2d9.js"><link rel="prefetch" href="/notebook/assets/js/266.16b6ad80.js"><link rel="prefetch" href="/notebook/assets/js/267.a8325642.js"><link rel="prefetch" href="/notebook/assets/js/268.e16cd9f3.js"><link rel="prefetch" href="/notebook/assets/js/269.a5498df8.js"><link rel="prefetch" href="/notebook/assets/js/27.719753e6.js"><link rel="prefetch" href="/notebook/assets/js/270.8c1b9707.js"><link rel="prefetch" href="/notebook/assets/js/271.48a63030.js"><link rel="prefetch" href="/notebook/assets/js/272.d8a90570.js"><link rel="prefetch" href="/notebook/assets/js/273.6fc8ee87.js"><link rel="prefetch" href="/notebook/assets/js/274.c6537eb8.js"><link rel="prefetch" href="/notebook/assets/js/275.04ab297b.js"><link rel="prefetch" href="/notebook/assets/js/276.e6612614.js"><link rel="prefetch" href="/notebook/assets/js/277.938fa883.js"><link rel="prefetch" href="/notebook/assets/js/278.a1b48478.js"><link rel="prefetch" href="/notebook/assets/js/279.06d49970.js"><link rel="prefetch" href="/notebook/assets/js/28.aa56ed65.js"><link rel="prefetch" href="/notebook/assets/js/280.5cedeb79.js"><link rel="prefetch" href="/notebook/assets/js/281.5c0da463.js"><link rel="prefetch" href="/notebook/assets/js/282.41cc04d0.js"><link rel="prefetch" href="/notebook/assets/js/283.51aaf1a7.js"><link rel="prefetch" href="/notebook/assets/js/284.158f76c2.js"><link rel="prefetch" href="/notebook/assets/js/285.c4f8f9ba.js"><link rel="prefetch" href="/notebook/assets/js/286.8437f1cd.js"><link rel="prefetch" href="/notebook/assets/js/287.f89eb23f.js"><link rel="prefetch" href="/notebook/assets/js/288.3b8c8f74.js"><link rel="prefetch" href="/notebook/assets/js/289.75266f71.js"><link rel="prefetch" href="/notebook/assets/js/29.d1dbb5e8.js"><link rel="prefetch" href="/notebook/assets/js/290.ee5d2d97.js"><link rel="prefetch" href="/notebook/assets/js/291.5f58e825.js"><link rel="prefetch" href="/notebook/assets/js/292.c70756df.js"><link rel="prefetch" href="/notebook/assets/js/293.5e231e99.js"><link rel="prefetch" href="/notebook/assets/js/294.e3c67bc4.js"><link rel="prefetch" href="/notebook/assets/js/295.ad58ed4a.js"><link rel="prefetch" href="/notebook/assets/js/296.5fc193a4.js"><link rel="prefetch" href="/notebook/assets/js/297.faf12d45.js"><link rel="prefetch" href="/notebook/assets/js/298.de44fd24.js"><link rel="prefetch" href="/notebook/assets/js/299.4e45c0ad.js"><link rel="prefetch" href="/notebook/assets/js/3.48274125.js"><link rel="prefetch" href="/notebook/assets/js/30.fe9d3c9f.js"><link rel="prefetch" href="/notebook/assets/js/300.ac1b5eb9.js"><link rel="prefetch" href="/notebook/assets/js/301.da3874dc.js"><link rel="prefetch" href="/notebook/assets/js/302.51cc2869.js"><link rel="prefetch" href="/notebook/assets/js/303.e485de1e.js"><link rel="prefetch" href="/notebook/assets/js/304.34c4ae4f.js"><link rel="prefetch" href="/notebook/assets/js/305.5ebf65e1.js"><link rel="prefetch" href="/notebook/assets/js/306.866dcb63.js"><link rel="prefetch" href="/notebook/assets/js/307.d64b6dd8.js"><link rel="prefetch" href="/notebook/assets/js/308.f09786a9.js"><link rel="prefetch" href="/notebook/assets/js/309.72a2355c.js"><link rel="prefetch" href="/notebook/assets/js/31.d7323f5f.js"><link rel="prefetch" href="/notebook/assets/js/310.be55cb6e.js"><link rel="prefetch" href="/notebook/assets/js/311.41b01e5e.js"><link rel="prefetch" href="/notebook/assets/js/312.9d2cac4b.js"><link rel="prefetch" href="/notebook/assets/js/313.18601fa1.js"><link rel="prefetch" href="/notebook/assets/js/314.0bd572ee.js"><link rel="prefetch" href="/notebook/assets/js/315.55ae8dec.js"><link rel="prefetch" href="/notebook/assets/js/316.9edd8e87.js"><link rel="prefetch" href="/notebook/assets/js/317.4b20f28a.js"><link rel="prefetch" href="/notebook/assets/js/318.a3db1add.js"><link rel="prefetch" href="/notebook/assets/js/319.5d8545df.js"><link rel="prefetch" href="/notebook/assets/js/320.0adbc4cd.js"><link rel="prefetch" href="/notebook/assets/js/321.be361768.js"><link rel="prefetch" href="/notebook/assets/js/322.8c73cb8a.js"><link rel="prefetch" href="/notebook/assets/js/323.3108a2cc.js"><link rel="prefetch" href="/notebook/assets/js/324.2a837be0.js"><link rel="prefetch" href="/notebook/assets/js/325.705a327b.js"><link rel="prefetch" href="/notebook/assets/js/326.59db4ce7.js"><link rel="prefetch" href="/notebook/assets/js/327.c0b34f7c.js"><link rel="prefetch" href="/notebook/assets/js/328.b65b902a.js"><link rel="prefetch" href="/notebook/assets/js/329.222655c5.js"><link rel="prefetch" href="/notebook/assets/js/33.cec278f4.js"><link rel="prefetch" href="/notebook/assets/js/330.8f0c0d1d.js"><link rel="prefetch" href="/notebook/assets/js/331.238c92a1.js"><link rel="prefetch" href="/notebook/assets/js/332.7ab23271.js"><link rel="prefetch" href="/notebook/assets/js/333.b23b0bdf.js"><link rel="prefetch" href="/notebook/assets/js/334.9d7e5f9f.js"><link rel="prefetch" href="/notebook/assets/js/335.334c5e76.js"><link rel="prefetch" href="/notebook/assets/js/336.58e335f7.js"><link rel="prefetch" href="/notebook/assets/js/337.589239c4.js"><link rel="prefetch" href="/notebook/assets/js/338.465f8655.js"><link rel="prefetch" href="/notebook/assets/js/339.7ceeab4d.js"><link rel="prefetch" href="/notebook/assets/js/34.d8748f40.js"><link rel="prefetch" href="/notebook/assets/js/340.b5f2f91e.js"><link rel="prefetch" href="/notebook/assets/js/341.f8fe1b8f.js"><link rel="prefetch" href="/notebook/assets/js/342.9c3c0bc1.js"><link rel="prefetch" href="/notebook/assets/js/343.be7b19eb.js"><link rel="prefetch" href="/notebook/assets/js/344.9586a9c1.js"><link rel="prefetch" href="/notebook/assets/js/345.89924639.js"><link rel="prefetch" href="/notebook/assets/js/346.b4480f82.js"><link rel="prefetch" href="/notebook/assets/js/347.31082542.js"><link rel="prefetch" href="/notebook/assets/js/348.28fe33de.js"><link rel="prefetch" href="/notebook/assets/js/349.3807bbf7.js"><link rel="prefetch" href="/notebook/assets/js/35.dbbd4954.js"><link rel="prefetch" href="/notebook/assets/js/350.376d8bfb.js"><link rel="prefetch" href="/notebook/assets/js/351.3e92b649.js"><link rel="prefetch" href="/notebook/assets/js/352.50b0bc25.js"><link rel="prefetch" href="/notebook/assets/js/353.a83f79b6.js"><link rel="prefetch" href="/notebook/assets/js/354.977f3190.js"><link rel="prefetch" href="/notebook/assets/js/355.3af358b1.js"><link rel="prefetch" href="/notebook/assets/js/356.1cc0fd96.js"><link rel="prefetch" href="/notebook/assets/js/357.709999de.js"><link rel="prefetch" href="/notebook/assets/js/358.6c9bc1da.js"><link rel="prefetch" href="/notebook/assets/js/359.9ea70095.js"><link rel="prefetch" href="/notebook/assets/js/36.bc4946a8.js"><link rel="prefetch" href="/notebook/assets/js/360.773d98fa.js"><link rel="prefetch" href="/notebook/assets/js/361.3874e204.js"><link rel="prefetch" href="/notebook/assets/js/362.469b6b3b.js"><link rel="prefetch" href="/notebook/assets/js/363.02d584a8.js"><link rel="prefetch" href="/notebook/assets/js/364.ecd7d833.js"><link rel="prefetch" href="/notebook/assets/js/365.89a16468.js"><link rel="prefetch" href="/notebook/assets/js/366.e0abb37a.js"><link rel="prefetch" href="/notebook/assets/js/367.2b83e4f5.js"><link rel="prefetch" href="/notebook/assets/js/368.2572eee3.js"><link rel="prefetch" href="/notebook/assets/js/369.ece3c375.js"><link rel="prefetch" href="/notebook/assets/js/37.0f9158a8.js"><link rel="prefetch" href="/notebook/assets/js/370.3e8a3361.js"><link rel="prefetch" href="/notebook/assets/js/371.f0452444.js"><link rel="prefetch" href="/notebook/assets/js/372.9cf60f52.js"><link rel="prefetch" href="/notebook/assets/js/373.74384686.js"><link rel="prefetch" href="/notebook/assets/js/374.0c676e47.js"><link rel="prefetch" href="/notebook/assets/js/375.e2e18bc7.js"><link rel="prefetch" href="/notebook/assets/js/376.cd61261a.js"><link rel="prefetch" href="/notebook/assets/js/377.f781b6fe.js"><link rel="prefetch" href="/notebook/assets/js/378.843ac480.js"><link rel="prefetch" href="/notebook/assets/js/379.36519380.js"><link rel="prefetch" href="/notebook/assets/js/38.cabc06ef.js"><link rel="prefetch" href="/notebook/assets/js/380.ca03c0fa.js"><link rel="prefetch" href="/notebook/assets/js/381.40f0fb8e.js"><link rel="prefetch" href="/notebook/assets/js/382.b3cf6f32.js"><link rel="prefetch" href="/notebook/assets/js/383.933bb4c7.js"><link rel="prefetch" href="/notebook/assets/js/384.6d97fb18.js"><link rel="prefetch" href="/notebook/assets/js/385.4e2a638a.js"><link rel="prefetch" href="/notebook/assets/js/386.ae30ad9b.js"><link rel="prefetch" href="/notebook/assets/js/387.06c041e3.js"><link rel="prefetch" href="/notebook/assets/js/388.947fae18.js"><link rel="prefetch" href="/notebook/assets/js/389.2b880299.js"><link rel="prefetch" href="/notebook/assets/js/39.f5f42903.js"><link rel="prefetch" href="/notebook/assets/js/390.47c77b55.js"><link rel="prefetch" href="/notebook/assets/js/391.6730ac33.js"><link rel="prefetch" href="/notebook/assets/js/392.58346b7d.js"><link rel="prefetch" href="/notebook/assets/js/393.064c2651.js"><link rel="prefetch" href="/notebook/assets/js/394.77a4c615.js"><link rel="prefetch" href="/notebook/assets/js/395.9655821f.js"><link rel="prefetch" href="/notebook/assets/js/396.2187b20f.js"><link rel="prefetch" href="/notebook/assets/js/397.9a3deb88.js"><link rel="prefetch" href="/notebook/assets/js/398.0210b3fe.js"><link rel="prefetch" href="/notebook/assets/js/399.f1e8403a.js"><link rel="prefetch" href="/notebook/assets/js/4.a1d7e5cb.js"><link rel="prefetch" href="/notebook/assets/js/40.c4ece13d.js"><link rel="prefetch" href="/notebook/assets/js/400.a1e42214.js"><link rel="prefetch" href="/notebook/assets/js/401.2e82dab8.js"><link rel="prefetch" href="/notebook/assets/js/402.304c5cfd.js"><link rel="prefetch" href="/notebook/assets/js/403.13da8231.js"><link rel="prefetch" href="/notebook/assets/js/404.e0be1a23.js"><link rel="prefetch" href="/notebook/assets/js/405.85b26c60.js"><link rel="prefetch" href="/notebook/assets/js/406.f2309eeb.js"><link rel="prefetch" href="/notebook/assets/js/407.a769aca6.js"><link rel="prefetch" href="/notebook/assets/js/408.7d90665c.js"><link rel="prefetch" href="/notebook/assets/js/409.47e05766.js"><link rel="prefetch" href="/notebook/assets/js/41.c42c11ea.js"><link rel="prefetch" href="/notebook/assets/js/410.e43f6f43.js"><link rel="prefetch" href="/notebook/assets/js/411.2c856f75.js"><link rel="prefetch" href="/notebook/assets/js/412.cb80c656.js"><link rel="prefetch" href="/notebook/assets/js/413.0dfeb1dc.js"><link rel="prefetch" href="/notebook/assets/js/414.44e2e15a.js"><link rel="prefetch" href="/notebook/assets/js/415.f04fbb2a.js"><link rel="prefetch" href="/notebook/assets/js/416.c2a1fd05.js"><link rel="prefetch" href="/notebook/assets/js/417.cbe42437.js"><link rel="prefetch" href="/notebook/assets/js/418.d0e21375.js"><link rel="prefetch" href="/notebook/assets/js/419.0dc4ad41.js"><link rel="prefetch" href="/notebook/assets/js/42.27715f70.js"><link rel="prefetch" href="/notebook/assets/js/420.c11edb1b.js"><link rel="prefetch" href="/notebook/assets/js/421.c307a674.js"><link rel="prefetch" href="/notebook/assets/js/422.7e74f46d.js"><link rel="prefetch" href="/notebook/assets/js/423.44dcbfdd.js"><link rel="prefetch" href="/notebook/assets/js/424.8ddd70ef.js"><link rel="prefetch" href="/notebook/assets/js/425.50888bfd.js"><link rel="prefetch" href="/notebook/assets/js/426.2630bade.js"><link rel="prefetch" href="/notebook/assets/js/427.6fe4c52a.js"><link rel="prefetch" href="/notebook/assets/js/428.eb29f8cf.js"><link rel="prefetch" href="/notebook/assets/js/429.bd7359b9.js"><link rel="prefetch" href="/notebook/assets/js/43.77499a7d.js"><link rel="prefetch" href="/notebook/assets/js/430.85e749b7.js"><link rel="prefetch" href="/notebook/assets/js/431.a2b22a68.js"><link rel="prefetch" href="/notebook/assets/js/432.e68cc1d9.js"><link rel="prefetch" href="/notebook/assets/js/433.1b52f721.js"><link rel="prefetch" href="/notebook/assets/js/434.1755ec6c.js"><link rel="prefetch" href="/notebook/assets/js/435.1f9038c9.js"><link rel="prefetch" href="/notebook/assets/js/436.d821b952.js"><link rel="prefetch" href="/notebook/assets/js/437.ea36be03.js"><link rel="prefetch" href="/notebook/assets/js/438.317e2556.js"><link rel="prefetch" href="/notebook/assets/js/439.59207bdb.js"><link rel="prefetch" href="/notebook/assets/js/44.b9a98469.js"><link rel="prefetch" href="/notebook/assets/js/440.e5a67a58.js"><link rel="prefetch" href="/notebook/assets/js/441.d2df181b.js"><link rel="prefetch" href="/notebook/assets/js/442.16c3ee63.js"><link rel="prefetch" href="/notebook/assets/js/443.5243734d.js"><link rel="prefetch" href="/notebook/assets/js/444.217fb4b3.js"><link rel="prefetch" href="/notebook/assets/js/445.149264d7.js"><link rel="prefetch" href="/notebook/assets/js/446.74956323.js"><link rel="prefetch" href="/notebook/assets/js/447.bdb43413.js"><link rel="prefetch" href="/notebook/assets/js/448.950f79ae.js"><link rel="prefetch" href="/notebook/assets/js/449.e524bf7b.js"><link rel="prefetch" href="/notebook/assets/js/45.10082595.js"><link rel="prefetch" href="/notebook/assets/js/450.267a0429.js"><link rel="prefetch" href="/notebook/assets/js/451.3b5a1c65.js"><link rel="prefetch" href="/notebook/assets/js/452.8c73a004.js"><link rel="prefetch" href="/notebook/assets/js/453.0d420544.js"><link rel="prefetch" href="/notebook/assets/js/454.af31b781.js"><link rel="prefetch" href="/notebook/assets/js/455.73708cb3.js"><link rel="prefetch" href="/notebook/assets/js/456.0be3e8e1.js"><link rel="prefetch" href="/notebook/assets/js/457.b7fa2972.js"><link rel="prefetch" href="/notebook/assets/js/458.4db3329a.js"><link rel="prefetch" href="/notebook/assets/js/459.49ba9ad6.js"><link rel="prefetch" href="/notebook/assets/js/46.7ecd0f09.js"><link rel="prefetch" href="/notebook/assets/js/460.4688b9e3.js"><link rel="prefetch" href="/notebook/assets/js/461.b0f61314.js"><link rel="prefetch" href="/notebook/assets/js/462.0b61170e.js"><link rel="prefetch" href="/notebook/assets/js/463.190cefdc.js"><link rel="prefetch" href="/notebook/assets/js/464.f8a4b34c.js"><link rel="prefetch" href="/notebook/assets/js/465.e856123e.js"><link rel="prefetch" href="/notebook/assets/js/466.1d0daf0e.js"><link rel="prefetch" href="/notebook/assets/js/467.f3047034.js"><link rel="prefetch" href="/notebook/assets/js/468.ac30d31e.js"><link rel="prefetch" href="/notebook/assets/js/469.de91cd19.js"><link rel="prefetch" href="/notebook/assets/js/47.37c3fcda.js"><link rel="prefetch" href="/notebook/assets/js/470.ea39d1cd.js"><link rel="prefetch" href="/notebook/assets/js/471.f9d87581.js"><link rel="prefetch" href="/notebook/assets/js/48.ff0f25f0.js"><link rel="prefetch" href="/notebook/assets/js/49.0d79f931.js"><link rel="prefetch" href="/notebook/assets/js/5.1e754781.js"><link rel="prefetch" href="/notebook/assets/js/50.4df88919.js"><link rel="prefetch" href="/notebook/assets/js/51.d33cfbe8.js"><link rel="prefetch" href="/notebook/assets/js/52.1ef5d41a.js"><link rel="prefetch" href="/notebook/assets/js/53.53dfbc43.js"><link rel="prefetch" href="/notebook/assets/js/54.19770d86.js"><link rel="prefetch" href="/notebook/assets/js/55.6b48cad4.js"><link rel="prefetch" href="/notebook/assets/js/56.c7105979.js"><link rel="prefetch" href="/notebook/assets/js/57.84310b88.js"><link rel="prefetch" href="/notebook/assets/js/58.8f014c5a.js"><link rel="prefetch" href="/notebook/assets/js/59.fef9b566.js"><link rel="prefetch" href="/notebook/assets/js/6.5df6b19b.js"><link rel="prefetch" href="/notebook/assets/js/60.8e231f15.js"><link rel="prefetch" href="/notebook/assets/js/61.f756f7b7.js"><link rel="prefetch" href="/notebook/assets/js/62.4b97b76b.js"><link rel="prefetch" href="/notebook/assets/js/63.06715972.js"><link rel="prefetch" href="/notebook/assets/js/64.b58ce190.js"><link rel="prefetch" href="/notebook/assets/js/65.8f3ea86b.js"><link rel="prefetch" href="/notebook/assets/js/66.643d3f25.js"><link rel="prefetch" href="/notebook/assets/js/67.07ba34fa.js"><link rel="prefetch" href="/notebook/assets/js/68.b743cb7d.js"><link rel="prefetch" href="/notebook/assets/js/69.c3b7959f.js"><link rel="prefetch" href="/notebook/assets/js/7.6da2a4da.js"><link rel="prefetch" href="/notebook/assets/js/70.70a5f087.js"><link rel="prefetch" href="/notebook/assets/js/71.66235a20.js"><link rel="prefetch" href="/notebook/assets/js/72.b1c1d971.js"><link rel="prefetch" href="/notebook/assets/js/73.8638f2ff.js"><link rel="prefetch" href="/notebook/assets/js/74.69d0b768.js"><link rel="prefetch" href="/notebook/assets/js/75.a041a8a1.js"><link rel="prefetch" href="/notebook/assets/js/76.eccc2af9.js"><link rel="prefetch" href="/notebook/assets/js/77.2d4b1802.js"><link rel="prefetch" href="/notebook/assets/js/78.af8d500f.js"><link rel="prefetch" href="/notebook/assets/js/79.e7d0d04f.js"><link rel="prefetch" href="/notebook/assets/js/8.83a427df.js"><link rel="prefetch" href="/notebook/assets/js/80.fcde8e57.js"><link rel="prefetch" href="/notebook/assets/js/81.ef198d03.js"><link rel="prefetch" href="/notebook/assets/js/82.f52ed904.js"><link rel="prefetch" href="/notebook/assets/js/83.ab98d0e8.js"><link rel="prefetch" href="/notebook/assets/js/84.db32cfac.js"><link rel="prefetch" href="/notebook/assets/js/85.46ce6f35.js"><link rel="prefetch" href="/notebook/assets/js/86.5c02501b.js"><link rel="prefetch" href="/notebook/assets/js/87.cf11f464.js"><link rel="prefetch" href="/notebook/assets/js/88.174958ce.js"><link rel="prefetch" href="/notebook/assets/js/89.4b6210c5.js"><link rel="prefetch" href="/notebook/assets/js/9.b92893d6.js"><link rel="prefetch" href="/notebook/assets/js/90.ed8e9603.js"><link rel="prefetch" href="/notebook/assets/js/91.c222c6fa.js"><link rel="prefetch" href="/notebook/assets/js/92.2a91db09.js"><link rel="prefetch" href="/notebook/assets/js/93.f6d9b853.js"><link rel="prefetch" href="/notebook/assets/js/94.838201c4.js"><link rel="prefetch" href="/notebook/assets/js/95.d337ad55.js"><link rel="prefetch" href="/notebook/assets/js/96.18007e12.js"><link rel="prefetch" href="/notebook/assets/js/97.7765ea18.js"><link rel="prefetch" href="/notebook/assets/js/98.f7664556.js"><link rel="prefetch" href="/notebook/assets/js/99.a5a475b0.js">
  <link rel="stylesheet" href="/notebook/assets/css/0.styles.7c3a6f01.css">
<!--  <link rel="stylesheet" href="/notebook/live2d/css/live2d.css" />-->
</head>
<body>
<div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notebook/" class="home-link router-link-active"><!----> <span class="site-name">notebook</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/notebook/notebook/" class="nav-link">Notebook</a></div><div class="nav-item"><a href="/notebook/learn/" class="nav-link">Learn</a></div><div class="nav-item"><a href="https://github.com/Relieved-hai/notebook" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/notebook/notebook/" class="nav-link">Notebook</a></div><div class="nav-item"><a href="/notebook/learn/" class="nav-link">Learn</a></div><div class="nav-item"><a href="https://github.com/Relieved-hai/notebook" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>JavaScript 编程语言</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span></span> <!----></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>JavaScript 基础知识</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>代码质量</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notebook/learn_javascript_asdiasdkc/one/uiooxcvasj/01/" class="sidebar-link">在 Chrome 中调试</a></li><li><a href="/notebook/learn_javascript_asdiasdkc/one/uiooxcvasj/02/" class="sidebar-link">代码风格</a></li><li><a href="/notebook/learn_javascript_asdiasdkc/one/uiooxcvasj/03/" class="sidebar-link">注释</a></li><li><a href="/notebook/learn_javascript_asdiasdkc/one/uiooxcvasj/04/" class="sidebar-link">忍者代码</a></li><li><a href="/notebook/learn_javascript_asdiasdkc/one/uiooxcvasj/05/" class="active sidebar-link">使用 Mocha 进行自动化测试</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/learn_javascript_asdiasdkc/one/uiooxcvasj/05/#为什么我们需要测试？" class="sidebar-link">为什么我们需要测试？</a></li><li class="sidebar-sub-header"><a href="/notebook/learn_javascript_asdiasdkc/one/uiooxcvasj/05/#行为驱动开发（bdd）" class="sidebar-link">行为驱动开发（BDD）</a></li><li class="sidebar-sub-header"><a href="/notebook/learn_javascript_asdiasdkc/one/uiooxcvasj/05/#开发-“pow”：规范" class="sidebar-link">开发 “pow”：规范</a></li><li class="sidebar-sub-header"><a href="/notebook/learn_javascript_asdiasdkc/one/uiooxcvasj/05/#开发流程" class="sidebar-link">开发流程</a></li><li class="sidebar-sub-header"><a href="/notebook/learn_javascript_asdiasdkc/one/uiooxcvasj/05/#行为规范" class="sidebar-link">行为规范</a></li><li class="sidebar-sub-header"><a href="/notebook/learn_javascript_asdiasdkc/one/uiooxcvasj/05/#初始实现" class="sidebar-link">初始实现</a></li><li class="sidebar-sub-header"><a href="/notebook/learn_javascript_asdiasdkc/one/uiooxcvasj/05/#改进规范" class="sidebar-link">改进规范</a></li><li class="sidebar-sub-header"><a href="/notebook/learn_javascript_asdiasdkc/one/uiooxcvasj/05/#改进实现" class="sidebar-link">改进实现</a></li><li class="sidebar-sub-header"><a href="/notebook/learn_javascript_asdiasdkc/one/uiooxcvasj/05/#嵌套描述" class="sidebar-link">嵌套描述</a></li><li class="sidebar-sub-header"><a href="/notebook/learn_javascript_asdiasdkc/one/uiooxcvasj/05/#延伸规范" class="sidebar-link">延伸规范</a></li><li class="sidebar-sub-header"><a href="/notebook/learn_javascript_asdiasdkc/one/uiooxcvasj/05/#总结" class="sidebar-link">总结</a></li></ul></li><li><a href="/notebook/learn_javascript_asdiasdkc/one/uiooxcvasj/06/" class="sidebar-link">Polyfill</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Object（对象）：基础知识</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>数据类型</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>函数进阶内容</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>对象属性配置</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>原型，继承</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>类</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>错误处理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Promise，async/await</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Generator，高级 iteration</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>模块</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>杂项</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>浏览器：文档，事件，接口</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span></span> <!----></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Document</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>事件简介</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>UI 事件</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>表单，控件</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>加载文档和其他资源</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>杂项</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>其他</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span></span> <!----></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Frame 和 window</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>二进制数据，文件</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>网络请求</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>在浏览器中存储数据</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>动画</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>正则表达式</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="使用-mocha-进行自动化测试"><a href="#使用-mocha-进行自动化测试" aria-hidden="true" class="header-anchor">#</a> 使用 Mocha 进行自动化测试</h1> <p>自动化测试将被用于进一步的任务中，并且还将被广泛应用在实际项目中。</p> <br> <br> <br> <h2 id="为什么我们需要测试？"><a href="#为什么我们需要测试？" aria-hidden="true" class="header-anchor">#</a> 为什么我们需要测试？</h2> <p>当我们在写一个函数时，我们通常可以想象出它应该做什么：哪些参数会给出哪些结果。</p> <p>在开发期间，我们可以通过运行程序来检查它并将结果与预期进行比较。例如，我们可以在控制台中这么做。</p> <p>如果出了问题 —— 那么我们会修复代码，然后再一次运行并检查结果 —— 直到它工作为止。</p> <p>但这样的手动“重新运行”是不完美的。</p> <br> <p><strong>当通过手动重新运行来测试代码时，很容易漏掉一些东西。</strong></p> <p>例如，我们要创建一个函数 <code>f</code>。写一些代码，然后测试：<code>f(1)</code> 可以执行，但是 <code>f(2)</code> 不执行。我们修复了一下代码，现在 <code>f(2)</code> 可以执行了。看起来已经搞定了？但是我们忘了重新测试 <code>f(1)</code>。这样有可能会导致出现错误。</p> <p>这是非常典型的。当我们在开发一些东西时，我们会保留很多可能需要的用例。但是不要想着程序员在每一次代码修改后都去检查所有的案例。所以这就很容易造成修复了一个问题却造成另一个问题的情况。</p> <p><strong>自动化测试意味着测试是独立于代码的。它们以各种方式运行我们的函数，并将结果与预期结果进行比较。</strong></p> <br> <br> <br> <h2 id="行为驱动开发（bdd）"><a href="#行为驱动开发（bdd）" aria-hidden="true" class="header-anchor">#</a> 行为驱动开发（BDD）</h2> <p>我们来使用一种名为 <a href="http://en.wikipedia.org/wiki/Behavior-driven_development" target="_blank" rel="noopener noreferrer">行为驱动开发<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 或简言为 BDD 的技术。</p> <p><strong>BDD 包含了三部分内容：测试、文档和示例。</strong></p> <p>为了理解 BDD，我们将研究一个实际的开发案例。</p> <br> <br> <br> <h2 id="开发-“pow”：规范"><a href="#开发-“pow”：规范" aria-hidden="true" class="header-anchor">#</a> 开发 “pow”：规范</h2> <p>我们想要创建一个函数 <code>pow(x, n)</code> 来计算 <code>x</code> 的 <code>n</code> 次幂（<code>n</code> 为整数）。我们假设 <code>n≥0</code>。</p> <p>这个任务只是一个例子：JavaScript 中有一个 <code>**</code> 运算符可以用于幂运算。但是在这里我们专注于可以应用于更复杂任务的开发流程上。</p> <p>在创建函数 <code>pow</code> 的代码之前，我们可以想象函数应该做什么并且描述出来。</p> <p>这样的描述被称作 <strong>规范（specification, spec）</strong>，包含用例的描述以及针对它们的测试，如下所示：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;pow&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;raises to n-th power&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    assert<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><br> <p>正如你所看到的，一个规范包含三个主要的模块：</p> <ul><li><strong>1. <code>describe(&quot;title&quot;, function() { ... })</code></strong></li></ul> <p>表示我们正在描述的功能是什么。在我们的例子中我们正在描述函数 <code>pow</code>。用于组织“工人（workers）” —— <code>it</code> 代码块。</p> <ul><li><strong>2. <code>it(&quot;use case description&quot;, function() { ... })</code></strong></li></ul> <p><code>it</code> 里面的描述部分，我们以一种 <strong>易于理解</strong> 的方式描述特定的用例，第二个参数是用于对其进行测试的函数。</p> <ul><li><strong>3. <code>assert.equal(value1, value2)</code></strong></li></ul> <p><code>it</code> 块中的代码，如果实现是正确的，它应该在执行的时候不产生任何错误。</p> <br> <p><code>assert.*</code> 函数用于检查 <code>pow</code> 函数是否按照预期工作。在这里我们使用了其中之一 —— <code>assert.equal</code>，它会对参数进行比较，如果它们不相等则会抛出一个错误。这里它检查了 <code>pow(2, 3)</code> 的值是否等于 <code>8</code>。还有其他类型的比较和检查，我们将在后面介绍到。</p> <p>规范可以被执行，它将运行在 <code>it</code> 块中指定的测试。我们稍后会看到。</p> <br> <br> <br> <h2 id="开发流程"><a href="#开发流程" aria-hidden="true" class="header-anchor">#</a> 开发流程</h2> <p>开发流程通常看起来像这样：</p> <ol><li>编写初始规范，测试最基本的功能。</li> <li>创建一个最初始的实现。</li> <li>检查它是否工作，我们运行测试框架 <a href="http://mochajs.org/" target="_blank" rel="noopener noreferrer">Mocha<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>（很快会有更多细节）来运行测试。当功能未完成时，将显示错误。我们持续修正直到一切都能工作。</li> <li>现在我们有一个带有测试的能工作的初步实现。</li> <li>我们增加更多的用例到规范中，或许目前的程序实现还不支持。无法通过测试。</li> <li>回到第 3 步，更新程序直到测试不会抛出错误。</li> <li>重复第 3 步到第 6 步，直到功能完善。</li></ol> <br> <p>如此来看，开发就是不断地 <strong>迭代</strong>。我们写规范，实现它，确保测试通过，然后写更多的测试，确保它们工作等等。最后，我们有了一个能工作的实现和针对它的测试。</p> <p>让我们在我们的开发案例中看看这个开发流程吧。</p> <p>在我们的案例中，第一步已经完成了：我们有一个针对 <strong><code>pow</code></strong> 的初始规范。因此让我们来实现它吧。但在此之前，让我们用一些 JavaScript 库来运行测试，就是看看测试是通过了还是失败了。</p> <br> <br> <br> <h2 id="行为规范"><a href="#行为规范" aria-hidden="true" class="header-anchor">#</a> 行为规范</h2> <p>在本教程中，我们将使用以下 JavaScript 库进行测试：</p> <ul><li><a href="http://mochajs.org/" target="_blank" rel="noopener noreferrer">Mocha<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> —— 核心框架：提供了包括通用型测试函数 <code>describe</code> 和 <code>it</code>，以及用于运行测试的主函数。</li> <li><a href="http://chaijs.com/" target="_blank" rel="noopener noreferrer">Chai<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> —— 提供很多断言（assertion）支持的库。它提供了很多不同的断言，现在我们只需要用 <code>assert.equal</code>。</li> <li><a href="http://sinonjs.org/" target="_blank" rel="noopener noreferrer">Sinon<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> —— 用于监视函数、模拟内置函数和其他函数的库，我们在后面才会用到它。</li></ul> <br> <p>这些库都既适用于浏览器端，也适用于服务器端。这里我们将使用浏览器端的变体。</p> <p>包含这些框架和 <code>pow</code> 规范的完整的 HTML 页面：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- add mocha css, to show results --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://cdnjs.cloudflare.com/ajax/libs/mocha/3.2.0/mocha.css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- add mocha framework code --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://cdnjs.cloudflare.com/ajax/libs/mocha/3.2.0/mocha.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    mocha<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token string">'bdd'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// minimal setup</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- add chai --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://cdnjs.cloudflare.com/ajax/libs/chai/3.5.0/chai.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token comment">// chai has a lot of stuff, let's make assert global</span>
    <span class="token keyword">let</span> assert <span class="token operator">=</span> chai<span class="token punctuation">.</span>assert<span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">function</span> <span class="token function">pow</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">/* function code is to be written, empty now */</span>
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- the script with tests (describe, it...) --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>test.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- the element with id=&quot;mocha&quot; will contain test results --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>mocha<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- run tests! --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    mocha<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><br> <p>该页面可分为五个部分：</p> <ul><li><ol><li><code>&lt;head&gt;</code> —— 添加用于测试的第三方库和样式文件。</li></ol></li> <li><ol start="2"><li><code>&lt;script&gt;</code> 包含测试函数，在我们的例子中 —— 和 <code>pow</code> 相关的代码。</li></ol></li> <li><ol start="3"><li>测试代码 —— 在我们的案例中是名为 <code>test.js</code> 的脚本，它包含上面 <code>describe(&quot;pow&quot;, ...)</code> 的那些代码。</li></ol></li> <li><ol start="4"><li>HTML 元素 <code>&lt;div id=&quot;mocha&quot;&gt;</code> 将被 Mocha 用来输出结果。</li></ol></li> <li><ol start="5"><li>可以使用 <code>mocha.run()</code> 命令来开始测试。</li></ol></li></ul> <br> <p>结果：</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>到目前为止，测试失败了，出现了一个错误。这是合乎逻辑的：我们的 <code>pow</code> 是一个空函数，因此 <code>pow(2,3)</code> 返回了 <code>undefined</code> 而不是 <code>8</code>。</p> <p>未来，我们会注意到有更高级的测试工具，像是 <a href="https://karma-runner.github.io/" target="_blank" rel="noopener noreferrer">karma<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 或其他的，使自动运行许多不同的测试变得更容易。</p> <br> <br> <br> <h2 id="初始实现"><a href="#初始实现" aria-hidden="true" class="header-anchor">#</a> 初始实现</h2> <p>为了可以通过测试，让我们写一个 <code>pow</code> 的简单实现：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">pow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">// :) 我们作弊啦！</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>现在它可以工作了。</p> <p><img src="data:image/png;base64,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" alt=""></p> <br> <br> <br> <h2 id="改进规范"><a href="#改进规范" aria-hidden="true" class="header-anchor">#</a> 改进规范</h2> <p>我们所做的这些绝对是作弊。函数是不起作用的：尝试计算 <code>pow(3,4)</code> 的话就会得到一个不正确的结果，但是测试却通过了。</p> <p>……但是这种情况却是在实际中相当典型例子。测试通过了，但是函数却是错误的。我们的规范是不完善的。我们需要给它添加更多的测试用例。</p> <br> <p>这里我们又添加了一个测试来检查 <code>pow(3, 4) = 81</code>。</p> <p>我们可以选择两种方式中的任意一种来组织测试代码：</p> <ol><li>第一种 —— 在同一个 <code>it</code> 中再添加一个 <code>assert</code>：</li></ol> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><div class="highlighted"> </div><br><br><br><br></div><pre class="language-js"><code><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;pow&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;raises to n-th power&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    assert<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    assert<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">81</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ol start="2"><li>第二种 —— 写两个测试：</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;pow&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;2 raised to power 3 is 8&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    assert<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;3 raised to power 4 is 81&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    assert<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">81</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>主要的区别是，当 <code>assert</code> 触发一个错误时，<code>it</code> 代码块会立即终止。因此，在第一种方式中，如果第一个 <code>assert</code> 失败了，我们将永远不会看到第二个 <code>assert</code> 的结果。</p> <p>保持测试之间独立，有助于我们获知代码中正在发生什么，因此第二种方式更好一点。</p> <p>除此之外，还有一个规范值得遵循。</p> <br> <p><strong>一个测试检查一个东西。</strong></p> <br> <p>如果我们在看测试代码的时候，发现在其中有两个相互独立的检查 —— 最好将它拆分成两个更简单的检查。</p> <p>因此让我们继续使用第二种方式。</p> <p>结果：</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>正如我们可以想到的，第二条测试失败了。当然啦，我们的函数总会返回 <code>8</code>，而 <code>assert</code> 期望的是 <code>81</code>。</p> <br> <br> <br> <h2 id="改进实现"><a href="#改进实现" aria-hidden="true" class="header-anchor">#</a> 改进实现</h2> <p>让我们写一些更加实际的代码来通过测试吧：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">pow</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">*=</span> x<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>为了确保函数可以很好地工作，我们来使用更多值测试它吧。除了手动地编写 <code>it</code> 代码块，我们可以使用 <code>for</code> 循环来生成它们：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;pow&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token keyword">function</span> <span class="token function">makeTest</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> expected <span class="token operator">=</span> x <span class="token operator">*</span> x <span class="token operator">*</span> x<span class="token punctuation">;</span>
    <span class="token function">it</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> in the power 3 is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>expected<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      assert<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token function">pow</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> expected<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> x <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">;</span> x<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">makeTest</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>结果：</p> <p><img src="data:image/png;base64,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" alt=""></p> <br> <br> <br> <h2 id="嵌套描述"><a href="#嵌套描述" aria-hidden="true" class="header-anchor">#</a> 嵌套描述</h2> <p>我们继续添加更多的测试。但在此之前，我们需要注意到辅助函数 <code>makeTest</code> 和 <code>for</code> 应该被组合到一起。我们在其他测试中不需要 <code>makeTest</code>，只有在 <code>for</code> 循环中需要它：它们共同的任务就是检查 <code>pow</code> 是如何自乘至给定的幂次方。</p> <p>使用嵌套的 <code>describe</code> 来进行分组：</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br></div><pre class="language-js"><code><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;pow&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;raises x to power 3&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">function</span> <span class="token function">makeTest</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> expected <span class="token operator">=</span> x <span class="token operator">*</span> x <span class="token operator">*</span> x<span class="token punctuation">;</span>
      <span class="token function">it</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> in the power 3 is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>expected<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        assert<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token function">pow</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> expected<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> x <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">;</span> x<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">makeTest</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// ……可以在这里写更多的测试代码，describe 和 it 都可以添加在这。</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>嵌套的 <code>describe</code> 定义了一个新的 “subgroup” 测试。在输出中我们可以看到带有标题的缩进：</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>将来，我们可以在顶级域中使用 <code>it</code> 和 <code>describe</code> 的辅助函数添加更多的 <code>it</code> 和 <code>describe</code>，它们不会看到 <code>makeTest</code>。</p> <br> <div class="tip custom-block"><p><strong><code>before/after</code> 和 <code>beforeEach/afterEach</code></strong></p> <p>我们可以设置 <code>before/after</code> 函数来在运行测试之前/之后执行。也可以使用 <code>beforeEach/afterEach</code> 函数来设置在执行 <strong>每一个</strong> <code>it</code> 之前/之后执行。</p> <p>例如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token function">before</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Testing started – before all tests&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">after</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Testing finished – after all tests&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Before a test – enter a test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;After a test – exit a test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'test 1'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'test 2'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><br> <p>运行顺序将为：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Testing started – before all <span class="token function">tests</span> <span class="token punctuation">(</span>before<span class="token punctuation">)</span>
Before a test – enter a <span class="token function">test</span> <span class="token punctuation">(</span>beforeEach<span class="token punctuation">)</span>
<span class="token number">1</span>
After a test – exit a <span class="token function">test</span>   <span class="token punctuation">(</span>afterEach<span class="token punctuation">)</span>
Before a test – enter a <span class="token function">test</span> <span class="token punctuation">(</span>beforeEach<span class="token punctuation">)</span>
<span class="token number">2</span>
After a test – exit a <span class="token function">test</span>   <span class="token punctuation">(</span>afterEach<span class="token punctuation">)</span>
Testing finished – after all <span class="token function">tests</span> <span class="token punctuation">(</span>after<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><a href="https://plnkr.co/edit/GbnfZaiQjI09SIgj?p=preview&amp;preview" target="_blank" rel="noopener noreferrer">Open the example in the sandbox.<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>通常，<code>beforeEach/afterEach</code> 和 <code>before/after</code> 被用于执行初始化，清零计数器或做一些介于每个测试（或测试组）之间的事情。</p></div> <br> <br> <br> <h2 id="延伸规范"><a href="#延伸规范" aria-hidden="true" class="header-anchor">#</a> 延伸规范</h2> <p><code>pow</code> 的基础功能已经完成了。第一次迭代开发完成啦。让我们继续改进它吧。</p> <p>正如前面所说，函数 <code>pow(x, n)</code> 适用于正整数 <code>n</code>。</p> <p>JavaScript 函数通常会返回 <strong><code>NaN</code></strong> 以表示一个数学错误。接下来我们对无效的 <code>n</code> 值执行相同的操作。</p> <p>让我们首先将这个行为加到规范中(!)：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;pow&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token comment">// ...</span>

  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;for negative n the result is NaN&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    assert<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;for non-integer n the result is NaN&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    assert<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>新测试的结果：</p> <p><img src="/notebook/assets/img/06.0f212e96.png" alt=""></p> <p>新加的测试失败了，因为我们的实现方式是不支持它们的。这就是 BDD 的做法：我们首先写一些暂时无法通过的测试，然后去实现它们。</p> <br> <div class="tip custom-block"><p><strong>Other assertions</strong></p> <p>请注意断言语句 <code>assert.isNaN</code>：它用来检查 <code>NaN</code>。</p> <p>在 <a href="https://www.chaijs.com/" target="_blank" rel="noopener noreferrer">Chai<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 中也有其他的断言，例如：</p> <ul><li><code>assert.equal(value1, value2)</code> —— 检查相等 <code>value1 == value2</code>。</li> <li><code>assert.strictEqual(value1, value2)</code> —— 检查严格相等 <code>value1 === value2</code>。</li> <li><code>assert.notEqual，assert.notStrictEqual</code> —— 执行和上面相反的检查。</li> <li><code>assert.isTrue(value)</code> —— 检查 <code>value === true</code>。</li> <li><code>assert.isFalse(value)</code> —— 检查 <code>value === false</code>。</li> <li>……完整的列表请见 <a href="https://www.chaijs.com/api/assert/" target="_blank" rel="noopener noreferrer">docs<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <br> <p>因此我们应该给 <code>pow</code> 再加几行：</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">pow</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">NaN</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">!=</span> n<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">NaN</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">*=</span> x<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>现在它可以工作了，所有的测试也都通过了：</p> <p><img src="data:image/png;base64,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" alt=""></p> <p><a href="https://plnkr.co/edit/d9iXyHLaB8ZB5b2x?p=preview&amp;preview" target="_blank" rel="noopener noreferrer">Open the full final example in the sandbox.<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <br> <br> <br> <h2 id="总结"><a href="#总结" aria-hidden="true" class="header-anchor">#</a> 总结</h2> <p>在 BDD 中，规范先行，实现在后。最后我们同时拥有了规范和代码。</p> <p>规范有三种使用方式：</p> <ol><li>作为 <strong>测试</strong> —— 保证代码正确工作。</li> <li>作为 <strong>文档</strong> —— describe 和 it 的标题告诉我们函数做了什么。</li> <li>作为 <strong>案例</strong> —— 测试实际工作的例子展示了一个函数可以被怎样使用。</li></ol> <p>有了规范，我们可以安全地改进、修改甚至重写函数，并确保它仍然正确地工作。</p> <p>这在一个函数会被用在多个地方的大型项目中尤其重要。当我们改变这样一个函数时，没有办法手动检查每个使用它们的地方是否仍旧正确。</p> <p>如果没有测试，一般有两个办法：</p> <ul><li>展示修改，无论修改了什么。然后我们的用户遇到了 bug，这应该是我们没有手动完成某些检查。</li> <li>如果对出错的惩罚比较严重，并且没有测试，那么大家会很害怕修改这样的函数，然后这些代码就会越来越陈旧，没有人会想接触它。这很不利于发展。</li></ul> <br> <p><strong>自动化测试则有助于避免这样的问题！</strong></p> <p>如果这个项目被测试代码覆盖了，就不会出现这种问题。在任何修改之后，我们都可以运行测试，并在几秒钟内看到大量的检查。</p> <br> <p><strong>另外，一个经过良好测试的代码通常都有更好的架构。</strong></p> <p>当然，这是因为覆盖了自动化测试的代码更容易修改和改进。但还有另一个原因。</p> <p>要编写测试，代码的组织方式应确保每个函数都有一个清晰描述的任务、定义良好的输入和输出。这意味着从一开始就有一个好的架构。</p> <p>在实际开发中有时候可能并不容易，有时很难在写实际代码之前编写规范，因为还不清楚它应该如何表现。但一般来说，编写测试使得开发更快更稳定。</p> <p>在后面部分，你将遇到许多包含了测试的任务。所以你会看到更多的实际例子。</p> <p>编写测试需要良好的 JavaScript 知识。但我们刚刚开始学习它。因此，为了解决所有问题，到目前为止，你不需要编写测试，但是你应该已经能够阅读测试了，即使它们比本章中的内容稍微复杂一些。</p> <br> <br> <br></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/notebook/learn_javascript_asdiasdkc/one/uiooxcvasj/04/" class="prev">
          忍者代码
        </a></span> <span class="next"><a href="/notebook/learn_javascript_asdiasdkc/one/uiooxcvasj/06/">
          Polyfill
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
<script src="/notebook/assets/js/app.0324d2aa.js" defer></script><script src="/notebook/assets/js/2.ad960145.js" defer></script><script src="/notebook/assets/js/32.3fadf8fe.js" defer></script>
<!--<div id="landlord">-->
<!--  <div class="message" style="opacity:0"></div>-->
<!--  <canvas id="live2d" width="280" height="250" class="live2d"></canvas>-->
<!--  <div class="hide-button">隐藏</div>-->
<!--</div>-->
</body>
<!--<script src="https://cdn.bootcss.com/jquery/2.2.4/jquery.js"></script>-->
<!--<script type="text/javascript">-->
<!--  var message_Path = '/live2d/'-->
<!--  var home_Path = 'https://relieved-hai.github.io/notebook/'  //此处修改为你的域名，必须带斜杠-->
<!--</script>-->
<!--<script type="text/javascript" src="/notebook/live2d/js/live2d.js"></script>-->
<!--<script type="text/javascript" src="/notebook/live2d/js/message.js"></script>-->
<!--<script type="text/javascript">-->
<!--  loadlive2d("live2d", "/notebook/live2d/model/tia/model.json");-->
<!--</script>-->
</html>
