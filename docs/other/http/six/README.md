 ## Web安全攻击概述

之前所说都是关于 HTTP 传输过程中是不是加密，是不是容易被窃听、修改。

而这里所说的是，还没发起的请求，在自身 WEB 层面上的安全问题，其实就是我们在 HTTP 的协议的参数中，由于某些安全漏洞，所带来的问题。

 <br/>
 <br/>
 <br/>

**Web 应用的概念**

  - Web 应用是有动态脚本。编译过的代码等组合而成。

  - 它通常架设在 Web 服务器上，用户在 Web 浏览器上发送请求。

  - 这些请求使用 HTTP 协议，由 Web 应用和企业后台的数据库及其他动态内容通信。

![http](./images/web_01.png)

 <br/>

我们一旦出现安全问题，更多会出现在 表示层（ Web ） 和 业务逻辑层（ Server ） 之间，因为 Web 层是用来发起 HTTP 协议的，一旦 Web 安全出现了漏洞，那就会在发起 HTTP 请求的过程中，导致某些参数和内容发生错误，这就是 Web 安全的由来。

 <br/>
 <br/>
 <br/>

**WASC 的定义**

 - Web Application Security Consortium

 - 是一个由安全专家、行业顾问和诸多组织的代表组成的国际团体

 - 他们负责为 WWW 制定被广为接受的应用安全标准

 <br/>
 <br/>
 <br/>

**WASC 将 Web 应用安全威胁分为六大类**

 1. **Authentication（ 验证 ）**：用来确认某用户、服务或是应用身份的攻击手段

    - 登录
    - 注册
    - 忘记密码
    - ...

 2. **Authorization（ 授权 ）**：用来决定是否某用户、服务或是应用具有执行请求动作必要权限的攻击手段

    - 会话
    - cookie
    - session
    - ...

 3. **Client-Side Attacks（ 客户侧攻击 ）**：用来扰乱或是探测 Web 站点用户的攻击手段

    - 绕过
    - ...

 4. **Command Execution（ 命令执行 ）**：在 Web 站点上执行远程命令的攻击手段

    - SQL 注入
    - ...

 5. **Information Disclosure（ 信息暴露 ）**：用来获取 Web 站点具体系统信息的攻击手段

    - 数据库错误，可能能看到数据库的表、字段
    - ...

 6. **Logical Attacks（ 逻辑性攻击 ）**：用来扰乱或是探测 Web 应用逻辑流程的攻击手段

    - ...

 <br/>
 <br/>
 <br/>

**OWASP 的定义**

  - Open Web Application Security Project

  - 该组织致力于发现和解决不安全 Web 应用的根本原因

  - 它们最重要的项目之一是 "Web 应用的十大安全隐患"

  - 总结了目前 Web 应用最常受到的十种攻击手段，并且按照攻击发生的概率进行了排序

 <br/>

:::warning

  - **A1：2017-注入**：将不受信任的数据作为命令或查询的一部分发送到解析器时，会产生注入 SQL注入、NoSQL注入、OS注入和LDAP注入缺陷。

  - **A2：2017-失效的身份认证**：通过错误使用应用程序的身份认证和会话管理功能，攻击者能够破译密码、密钥或会话令牌。

  - **A3：2017-敏感数据泄露**：许多 Web 程序和 API 都无法正确保证敏感数据，攻击者可通过窃取或修改未加密的数据来实施信用卡诈骗、身份盗窃等犯罪行为

  - **A4:2017-XML外部实体(XXE)**：许多较早的或配置错误的XML处理器评估的XML文件中的外部实体引用。攻击者可利用外部实体窃取内部文件、执行远程代码

  - **A5:2017-失效的访问控制**：未对通过身份验证的用户实施恰当的访问控制。

  - **A6:2017-安全配置错误**：安全配置错误是最常见的安全问题，这通常是由于不安全的默认配置、不完整的临时配置、开源云错误等造成。

  - **A7:2017-跨站脚本(XSS)**：XSS让攻击者 能够在受害者的浏览器中执行脚本，并劫持用户会话、破坏网站或将用户重定向到恶意站点。

  - **A8:2017-不完全的反序列化**：不安全的反序列化会导致远程代码执行。

  - **A9:2017-使用含有已知漏洞的组件**：组件如库、框架和其他软件模块拥有和应用程字相同的权限。

  - **A10:2017-不足的日志记录和监控**：不足的日志记录和监控，以及事件响应缺失或无效的集成，使攻击者能够进一步攻击系统、 保持持续性、篡改、提取或销毁数据

:::

 <br/>
 <br/>
 <br/>

 ## 验证机制

1. 是 Web 应用程序中最简单的一种**安全机制**

   - 一般来说，应用程序**必须核实**用户提交的用户名和密码是否正确。正确则允许登录，否则禁止登录。

2. 是应用程序防御恶意攻击的**核心机制**

   - 它处在**安全防御**的最前沿，如果被用户轻易突破，通常应用程序的全部功能、数据都会被其控制。

   - **缺乏安全有效的验证机制**，其他核心安全机制都无法实施（ 会话管理和访问控制 ）。

![http](./images/web_02.png)

 <br/>
 <br/>
 <br/>

 ## 会话管理

 - 绝大多数 Web 应用程序中，会话管理机制是一个基本的**安全组件**。

 - 会话管理在应用程序执行登录功能时显得特别重要。

 - 因为，它可在用户通过提交请求他们的证书后，持续向应用程序保证任何特定用户身份的**真实性**。

 - 由于会话管理机制所发挥的关键作用，它们成为针对应用程序的**恶意攻击**的主要目标。

 - 若攻击者能够破坏应用程序的会话管理，它就能轻易避开其实施的验证机制，不需要用户证书即可伪装成其他应用程序用户。

 - 如果攻击者一这种方式公平


 <br/>
 <br/>
 <br/>

 ## SQL注入攻击

 <br/>
 <br/>
 <br/>

 ## 跨站脚本攻击

 <br/>
 <br/>
 <br/>

 ## CSRF攻击

 <br/>
 <br/>
 <br/>

